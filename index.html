<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="css/default.css" />
		<link rel="stylesheet" href="css/reset.css" />
		<link rel="stylesheet" href="css/style.css" />
		<script src="/socket.io/socket.io.js"></script>
		<script type="module" defer src="js/tab-manager.js"></script>
		<script type="module" defer src="js/animated-clock.js"></script>
		<script type="module" defer src="js/pvp-system.js"></script>
		<script type="module" defer src="js/pvp-broadcaster.js"></script>
		<script type="module" defer src="js/chat.js"></script>
		<script type="module" defer src="js/rpg-browser.js"></script>
		<title>Fantasy Messenger</title>
	</head>
	<body>
		<div class="app-container">
			<header class="app-header">
				<h1>Fantasy Messenger</h1>
				<nav class="tab-nav">
					<button class="tab-button active" data-tab="chat">Chat</button>
					<button class="tab-button" data-tab="rpg">RPG Game</button>
				</nav>
			</header>

			<main class="main-content">
				<section class="tab-panel active" data-panel="chat">
					<div class="chat-container">
						<div class="chat-header-info">
							<div class="user-info">
								<input
									type="text"
									id="username"
									placeholder="Enter your character name"
									maxlength="20"
								/>
								<button id="set-username">Join Quest</button>
							</div>
							
							<div class="realm-clock" id="realm-clock">
								<div class="clock-container">
									<div class="clock-display">
										<time class="clock-time" id="clock-time" datetime="">
											<span class="clock-hours" id="clock-hours">00</span>
											<span class="clock-separator">:</span>
											<span class="clock-minutes" id="clock-minutes">00</span>
											<span class="clock-separator">:</span>
											<span class="clock-seconds" id="clock-seconds">00</span>
										</time>
										<div class="clock-date" id="clock-date">
											<span class="clock-day" id="clock-day">Monday</span>
											<span class="clock-date-text" id="clock-date-text">Jan 1, 2024</span>
										</div>
									</div>
									<div class="clock-label">Realm Time</div>
								</div>
							</div>
						</div>
						
						<div class="chat-main">
							<div class="messages-container" id="messages">
								<div class="message system">
									<span class="message-text"
										>Welcome to the Fantasy Realm! Enter your character name to begin...</span
									>
								</div>
							</div>

							<form class="message-form" id="chat-form">
								<input
									type="text"
									id="message-input"
									placeholder="Type your message..."
									disabled
								/>
								<button type="submit" id="send-button" disabled>Send</button>
							</form>
						</div>
					</div>
				</section>

				<section class="tab-panel" data-panel="rpg">
					<div class="rpg-container">
						<div class="rpg-main">
							<div class="character-panel">
								<div class="character-creation" id="character-creation">
									<h3>Create Your Hero</h3>
									<div class="creation-form">
										<input
											type="text"
											id="character-name"
											placeholder="Character Name"
											maxlength="20"
										/>
										<select id="character-class">
											<option value="">Choose Class</option>
											<option value="Fighter">Fighter</option>
											<option value="Mage">Mage</option>
											<option value="Rogue">Rogue</option>
											<option value="Cleric">Cleric</option>
										</select>
										<button id="create-character">Create Character</button>
									</div>
								</div>

								<div class="character-status hidden" id="character-status">
									<h3 id="character-title">Character</h3>
									<div class="stats-grid">
										<div class="stat-item">
											<span class="stat-label">Health:</span>
											<span class="stat-value" id="health-display">0/0</span>
											<progress id="health-bar" max="100" value="100"></progress>
										</div>
										<div class="stat-item">
											<span class="stat-label">Mana:</span>
											<span class="stat-value" id="mana-display">0/0</span>
											<progress id="mana-bar" max="100" value="100"></progress>
										</div>
										<div class="stat-item">
											<span class="stat-label">Level:</span>
											<span class="stat-value" id="level-display">1</span>
										</div>
										<div class="stat-item">
											<span class="stat-label">Experience:</span>
											<span class="stat-value" id="exp-display">0/100</span>
											<progress id="exp-bar" max="100" value="0"></progress>
										</div>
										<div class="stat-item">
											<span class="stat-label">Gold:</span>
											<span class="stat-value" id="gold-display">100</span>
										</div>
									</div>
								</div>
							</div>

							<div class="game-panel">
								<div class="location-info">
									<h3 id="location-name">Choose your adventure...</h3>
									<p id="location-description">Create a character to begin your quest!</p>
								</div>

								<div class="game-log" id="game-log">
									<div class="log-message">Welcome to the Fantasy RPG!</div>
								</div>

								<div class="action-controls hidden" id="action-controls">
									<div class="action-group">
										<h4>Actions</h4>
										<div class="button-grid">
											<button id="explore-btn">🔍 Explore</button>
											<button id="rest-btn">😴 Rest</button>
											<button id="shop-btn">🏪 Shop</button>
											<button id="status-btn">📊 Status</button>
										</div>
									</div>

									<div class="action-group">
										<h4>Travel</h4>
										<div class="button-grid">
											<button id="travel-town">🏘️ Town</button>
											<button id="travel-forest">🌲 Forest</button>
											<button id="travel-dungeon">🏰 Dungeon</button>
										</div>
									</div>

									<div class="action-group">
										<h4>Player vs Player</h4>
										<div class="button-grid">
											<button id="find-players-btn">👥 Find Players</button>
											<button id="challenge-random-btn">⚡ Random Challenge</button>
										</div>
									</div>
								</div>

								<div class="combat-panel hidden" id="combat-panel">
									<div class="combat-info">
										<div class="combatant player-combatant">
											<h4 id="player-combat-name">Hero</h4>
											<progress id="player-combat-health" max="100" value="100"></progress>
											<span id="player-combat-hp">100/100 HP</span>
										</div>
										<div class="vs-indicator">⚔️</div>
										<div class="combatant enemy-combatant">
											<h4 id="enemy-combat-name">Enemy</h4>
											<progress id="enemy-combat-health" max="100" value="100"></progress>
											<span id="enemy-combat-hp">100/100 HP</span>
										</div>
									</div>
									<div class="combat-actions">
										<button id="attack-btn">⚔️ Attack</button>
										<button id="skill-btn">✨ Use Skill</button>
										<button id="item-btn">🧪 Use Item</button>
										<button id="run-btn">🏃 Run Away</button>
									</div>
								</div>

								<div class="shop-panel hidden" id="shop-panel">
									<h3>🏪 Mystral Shop</h3>
									<div class="shop-items" id="shop-items">
									</div>
									<button id="close-shop">Close Shop</button>
								</div>

								<div class="inventory-panel hidden" id="inventory-panel">
									<h3>🎒 Inventory</h3>
									<div class="inventory-items" id="inventory-items">
									</div>
									<button id="close-inventory">Close Inventory</button>
								</div>

								<div class="players-panel hidden" id="players-panel">
									<h3>👥 Online Players</h3>
									<div class="players-list" id="players-list">
										<div class="no-players">No other players online</div>
									</div>
									<button id="close-players">Close</button>
								</div>

								<div class="pvp-challenge-panel hidden" id="pvp-challenge-panel">
									<h3>⚔️ PvP Challenge</h3>
									<div class="challenge-info">
										<p id="challenge-message">Challenge details will appear here</p>
									</div>
									<div class="challenge-actions">
										<button id="accept-challenge">Accept</button>
										<button id="decline-challenge">Decline</button>
									</div>
								</div>

								<div class="pvp-combat-panel hidden" id="pvp-combat-panel">
									<div class="pvp-battle-header">
										<h3>⚔️ Player vs Player Battle</h3>
										<div class="turn-timer">
											<span class="timer-label">Turn Timer:</span>
											<span class="timer-value" id="turn-timer">30</span>
											<progress class="timer-bar" id="timer-bar" max="30" value="30"></progress>
										</div>
									</div>

									<div class="pvp-combat-info">
										<div class="pvp-combatant player1-combatant">
											<h4 id="player1-combat-name">Player 1</h4>
											<div class="combatant-details">
												<span class="combatant-class" id="player1-class">Fighter</span>
												<span class="combatant-level" id="player1-level">Level 1</span>
											</div>
											<div class="health-info">
												<progress id="player1-combat-health" max="100" value="100"></progress>
												<span id="player1-combat-hp">100/100 HP</span>
											</div>
											<div class="mana-info">
												<progress id="player1-combat-mana" max="50" value="50"></progress>
												<span id="player1-combat-mp">50/50 MP</span>
											</div>
										</div>

										<div class="vs-indicator">
											<div class="battle-status" id="battle-status">⚔️</div>
											<div class="current-turn" id="current-turn">Player 1's Turn</div>
										</div>

										<div class="pvp-combatant player2-combatant">
											<h4 id="player2-combat-name">Player 2</h4>
											<div class="combatant-details">
												<span class="combatant-class" id="player2-class">Mage</span>
												<span class="combatant-level" id="player2-level">Level 1</span>
											</div>
											<div class="health-info">
												<progress id="player2-combat-health" max="100" value="100"></progress>
												<span id="player2-combat-hp">100/100 HP</span>
											</div>
											<div class="mana-info">
												<progress id="player2-combat-mana" max="50" value="50"></progress>
												<span id="player2-combat-mp">50/50 MP</span>
											</div>
										</div>
									</div>

									<div class="pvp-combat-log" id="pvp-combat-log">
										<div class="log-message">Battle begins!</div>
									</div>

									<div class="pvp-combat-actions" id="pvp-combat-actions">
										<button id="pvp-attack-btn" disabled>⚔️ Attack</button>
										<button id="pvp-skill-btn" disabled>✨ Use Skill</button>
										<button id="pvp-item-btn" disabled>🧪 Use Item</button>
										<button id="pvp-surrender-btn">🏳️ Surrender</button>
									</div>

									<div class="skill-selection hidden" id="skill-selection">
										<h4>Select Skill:</h4>
										<div class="skills-list" id="skills-list"></div>
										<button id="cancel-skill">Cancel</button>
									</div>
								</div>

								<div class="battle-results-panel hidden" id="battle-results-panel">
									<h3>🏆 Battle Results</h3>
									<div class="results-content">
										<div class="winner-announcement" id="winner-announcement"></div>
										<div class="battle-stats" id="battle-stats"></div>
										<div class="rewards-info" id="rewards-info"></div>
									</div>
									<button id="close-results">Close</button>
								</div>
							</div>
						</div>
					</div>
				</section>
			</main>
		</div>
	</body>
</html>
